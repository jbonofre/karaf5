"use strict";(self.webpackChunkdoc=self.webpackChunkdoc||[]).push([[242],{3905:(e,n,t)=>{t.d(n,{Zo:()=>s,kt:()=>d});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=a.createContext({}),m=function(e){var n=a.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},s=function(e){var n=m(e.components);return a.createElement(c.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=m(t),d=i,h=u["".concat(c,".").concat(d)]||u[d]||p[d]||r;return t?a.createElement(h,o(o({ref:n},s),{},{components:t})):a.createElement(h,o({ref:n},s))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,o=new Array(r);o[0]=u;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var m=2;m<r;m++)o[m]=t[m];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},5363:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>m});var a=t(7462),i=(t(7294),t(3905));const r={},o="Getting started",l={unversionedId:"getting_started",id:"getting_started",title:"Getting started",description:"You will create and run a Minho runtime in a minute.",source:"@site/docs/02-getting_started.md",sourceDirName:".",slug:"/getting_started",permalink:"/minho/docs/getting_started",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Welcome to Apache Karaf Minho",permalink:"/minho/docs/intro"},next:{title:"Architecture",permalink:"/minho/docs/architecture"}},c={},m=[{value:"Installing minho-build CLI",id:"installing-minho-build-cli",level:2},{value:"minho-build.json",id:"minho-buildjson",level:2},{value:"Runtime package",id:"runtime-package",level:2},{value:"Runtime jar",id:"runtime-jar",level:2},{value:"Runtime archive",id:"runtime-archive",level:2}],s={toc:m};function p(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,a.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"getting-started"},"Getting started"),(0,i.kt)("p",null,"You will create and run a Minho runtime in a minute."),(0,i.kt)("p",null,"In this first run, we will create an empty (without any module) Minho runtime (using the command line) and run it."),(0,i.kt)("p",null,"It's the thinest runtime you can create, just starting the Minho boot part with Minho core services."),(0,i.kt)("p",null,"You have several options to create a Minho runtime:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"CLI (command line)"),(0,i.kt)("li",{parentName:"ul"},"Maven plugin"),(0,i.kt)("li",{parentName:"ul"},"Gradle plugin"),(0,i.kt)("li",{parentName:"ul"},"REST service"),(0,i.kt)("li",{parentName:"ul"},"Minho Creator")),(0,i.kt)("p",null,"For this first example, we are going to use the command line."),(0,i.kt)("h2",{id:"installing-minho-build-cli"},"Installing minho-build CLI"),(0,i.kt)("p",null,"You can find the command line binary in ",(0,i.kt)("inlineCode",{parentName:"p"},"tool/cli/target")," folder once you built it.\nYou can also directly download CLI binaries here:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://repository.apache.org/content/groups/snapshots/org/apache/karaf/minho/tooling/minho-build-1.0-SNAPSHOT.tar.gz"},"minho-build-1.0-SNAPSHOT.tar.gz")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://repository.apache.org/content/groups/snapshots/org/apache/karaf/minho/tooling/minho-build-1.0-SNAPSHOT.tar.gz"},"minho-build-1.0-SNAPSHOT.zip"))),(0,i.kt)("p",null,"The installation of minho-build CLI is a simple process of extracting the archive and adding ",(0,i.kt)("inlineCode",{parentName:"p"},"bin")," folder with the ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-build")," command to the ",(0,i.kt)("inlineCode",{parentName:"p"},"PATH"),"."),(0,i.kt)("p",null,"Detailed steps are:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Have a JDK installation on your system. Either set the ",(0,i.kt)("inlineCode",{parentName:"li"},"JAVA_HOME")," environment variable pointing to your JDK installation or have ",(0,i.kt)("inlineCode",{parentName:"li"},"java")," executable on your ",(0,i.kt)("inlineCode",{parentName:"li"},"PATH"),"."),(0,i.kt)("li",{parentName:"ul"},"Extract minho-cli distribution archive in any directory",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ unzip minho-build-1.0-SNAPSHOT.zip\n")),(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ tar zxvf minho-build-1.0-SNAPSHOT.tar.gz\n")),"Alternatively use your preferred archive extraction tool."),(0,i.kt)("li",{parentName:"ul"},"Add the ",(0,i.kt)("inlineCode",{parentName:"li"},"bin")," directory of the created directory ",(0,i.kt)("inlineCode",{parentName:"li"},"minho-build-1.0-SNAPSHOT")," to the ",(0,i.kt)("inlineCode",{parentName:"li"},"PATH")," environment variable."),(0,i.kt)("li",{parentName:"ul"},"Confirm with ",(0,i.kt)("inlineCode",{parentName:"li"},"minho-build --help")," in a new shell. The result should look similar to:",(0,i.kt)("pre",{parentName:"li"},(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"usage: minho-build [package|jar|archive]\nDefault build action is package\n-f,--file <arg>   Location of the minho-build.json file\n-h,--help         print this message\n")))),(0,i.kt)("h2",{id:"minho-buildjson"},"minho-build.json"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"minho-build")," command use a ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-build.json")," file describing your runtime."),(0,i.kt)("p",null,"In the directory of your choice, create the following ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-build.json")," file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "name": "my-runtime",\n  "dependencies": [\n    "minho:minho-boot",\n    "minho:minho-banner"\n  ]\n}\n')),(0,i.kt)("p",null,"We will create ",(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime")," with just the ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-boot")," module (minimal piece for a Minho runtime) and ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-banner")," service module (optional) that just display a fancy message at runtime startup."),(0,i.kt)("p",null,"We are now ready to create our runtime distribution. We have basically three options:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},'Create a "exploded" runtime folder.'),(0,i.kt)("li",{parentName:"ol"},'Create a "uber jar" ready to be executed.'),(0,i.kt)("li",{parentName:"ol"},"Create a archive (zip)")),(0,i.kt)("h2",{id:"runtime-package"},"Runtime package"),(0,i.kt)("p",null,"Let's create the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime")," package using ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-build package"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ minho-build package\noct. 16, 2022 5:44:42 PM org.apache.karaf.minho.tooling.common.Runtime <init>\nINFOS: Creating Minho runtime package in folder my-runtime\n")),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime")," directory has been created. To launch ",(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime"),", you can go in the ",(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime")," directory and do ",(0,i.kt)("inlineCode",{parentName:"p"},"java -jar minho-boot-1.0-SNAPSHOT.jar"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ cd my-runtime\n$ java -jar minho-boot-1.0-SNAPSHOT.jar\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.boot.Main main\nINFOS: Starting runtime in exploded mode\nMinho lib: /Users/jbonofre/Workspace/karaf5/tooling/cli/target/minho-build-1.0-SNAPSHOT/bin/my-runtime\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding config-service service (-2147483647)\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding lifecycle-service service (-1000)\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding classloader-service service (-1000)\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding minho-banner-service service (2147483647)\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.banner.WelcomeBannerService onRegister\nINFOS:\n __  __ _       _\n|  \\/  (_)_ __ | |__   ___\n| |\\/| | | '_ \\| '_ \\ / _ \\\n| |  | | | | | | | | | (_) |\n|_|  |_|_|_| |_|_| |_|\\___/\n  Apache Karaf Minho 1.x\n\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.boot.service.ServiceRegistry lambda$start$2\nINFOS: Starting services\noct. 16, 2022 5:45:14 PM org.apache.karaf.minho.boot.service.LifeCycleService start\nINFOS: Starting lifecycle service\n")),(0,i.kt)("h2",{id:"runtime-jar"},"Runtime jar"),(0,i.kt)("p",null,"You can also create a runtime executable uber jar using ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-build jar"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ minho-build jar\n")),(0,i.kt)("p",null,"You now have ",(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime/my-runtime.jar")," executable jar file. This jar contains everything you need and you can directly run it:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ java -jar my-runtime.jar\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.boot.Main main\nINFOS: Starting runtime in exploded mode\nMinho lib: /Users/jbonofre/Workspace/karaf5/tooling/cli/target/minho-build-1.0-SNAPSHOT/bin\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding config-service service (-2147483647)\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding lifecycle-service service (-1000)\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding classloader-service service (-1000)\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding minho-banner-service service (2147483647)\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.banner.WelcomeBannerService onRegister\nINFOS: \n __  __ _       _           \n|  \\/  (_)_ __ | |__   ___  \n| |\\/| | | '_ \\| '_ \\ / _ \\ \n| |  | | | | | | | | | (_) |\n|_|  |_|_|_| |_|_| |_|\\___/ \n  Apache Karaf Minho 1.x\n\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.boot.service.ServiceRegistry lambda$start$2\nINFOS: Starting services\noct. 16, 2022 5:46:43 PM org.apache.karaf.minho.boot.service.LifeCycleService start\nINFOS: Starting lifecycle service\n")),(0,i.kt)("h2",{id:"runtime-archive"},"Runtime archive"),(0,i.kt)("p",null,"Finally, you can create a zip archive with ",(0,i.kt)("inlineCode",{parentName:"p"},"minho-build archive"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ minho-build archive\noct. 16, 2022 5:48:16 PM org.apache.karaf.minho.tooling.common.Runtime <init>\nINFOS: Creating Minho runtime package in folder my-runtime\noct. 16, 2022 5:48:16 PM org.apache.karaf.minho.tooling.common.Runtime createArchive\nINFOS: Creating Minho runtime archive\n")),(0,i.kt)("p",null,"You now have ",(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime/my-runtime.zip")," file, that you can extract in the directory of your choice:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ mv my-runtime/my-runtime.zip temp\n$ cd temp\n$ unzip my-runtime.zip\nArchive:  my-runtime.zip\n  inflating: minho-banner-1.0-SNAPSHOT.jar  \n  inflating: minho-boot-1.0-SNAPSHOT.jar  \n   creating: bin/\n  inflating: bin/minho.sh  \n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"my-runtime")," archive contains everything you need, including simple ",(0,i.kt)("inlineCode",{parentName:"p"},"minho.sh")," script to start the runtime:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},"$ ./bin/minho.sh\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.boot.Main main\nINFOS: Starting runtime in exploded mode\nMinho lib: /Users/jbonofre/Workspace/karaf5/tooling/cli/target/minho-build-1.0-SNAPSHOT/bin/my-runtime/test\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding config-service service (-2147483647)\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding lifecycle-service service (-1000)\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding classloader-service service (-1000)\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.boot.service.ServiceRegistry add\nINFOS: Adding minho-banner-service service (2147483647)\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.banner.WelcomeBannerService onRegister\nINFOS: \n __  __ _       _           \n|  \\/  (_)_ __ | |__   ___  \n| |\\/| | | '_ \\| '_ \\ / _ \\ \n| |  | | | | | | | | | (_) |\n|_|  |_|_|_| |_|_| |_|\\___/ \n  Apache Karaf Minho 1.x\n\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.boot.service.ServiceRegistry lambda$start$2\nINFOS: Starting services\noct. 16, 2022 5:49:44 PM org.apache.karaf.minho.boot.service.LifeCycleService start\nINFOS: Starting lifecycle service\n")),(0,i.kt)("p",null,"You can see how Karaf is easy and fast to start with."),(0,i.kt)("p",null,"You are now ready to create your runtimes for your existing applications, or eventually create a new application using the Minho services."),(0,i.kt)("p",null,"You can take a look on the ",(0,i.kt)("a",{parentName:"p",href:"/examples"},"examples")," and available ",(0,i.kt)("a",{parentName:"p",href:"services"},"Minho services"),"."))}p.isMDXComponent=!0}}]);